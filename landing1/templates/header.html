<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
  {% if page.description %}<meta name="description" content="{{ page.description }}">{% endif %}
  {{ og_all_tags }}

  <!-- Google Fonts: Inter & Space Grotesk -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#8b5cf6', // Violet 500
            'primary-dark': '#7c3aed', // Violet 600
            'primary-light': '#a78bfa', // Violet 400
            surface: '#0f172a', // Slate 900
            'surface-alt': '#1e293b', // Slate 800
            border: 'rgba(255, 255, 255, 0.1)', // Glass border
            muted: '#94a3b8', // Slate 400
            accent: '#38bdf8', // Sky 400
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            display: ['Space Grotesk', 'Inter', 'system-ui', 'sans-serif'],
          },
          backgroundImage: {
            'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
            'hero-glow': 'conic-gradient(from 180deg at 50% 50%, #2a8af6 0deg, #a855f7 55deg, #ec4899 120deg, #8b5cf6 160deg, transparent 360deg)',
          },
        },
      },
    }
  </script>

  <style type="text/tailwindcss">
    @layer utilities {
      .text-balance { text-wrap: balance; }
      .glass {
        @apply bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl;
      }
    }

    /* Base styles */
    body {
      @apply bg-surface text-gray-300 font-sans antialiased;
      background-image:
        radial-gradient(at 0% 0%, rgba(139, 92, 246, 0.15) 0px, transparent 50%),
        radial-gradient(at 100% 0%, rgba(56, 189, 248, 0.15) 0px, transparent 50%);
      background-attachment: fixed;
    }

    /* Prose: markdown rendered content */
    .prose h1, .prose h2, .prose h3 { @apply font-display text-white tracking-tight; }
    .prose h1 { @apply text-4xl md:text-5xl font-bold mb-6 mt-0; }
    .prose h2 { @apply text-2xl md:text-3xl font-bold mt-12 mb-6; }
    .prose h3 { @apply text-xl font-bold mt-8 mb-4; }
    .prose p { @apply mb-6 leading-relaxed text-lg text-gray-300; }
    .prose a { @apply text-primary-light hover:text-white transition-colors underline decoration-primary/30 underline-offset-4 hover:decoration-white; }
    .prose strong { @apply text-white font-semibold; }
    .prose code {
      @apply text-[0.9em] bg-surface-alt/50 text-accent px-1.5 py-0.5 rounded border border-white/5;
    }
    .prose pre {
      @apply bg-[#111] px-5 py-4 overflow-x-auto my-6 rounded-xl border border-white/10 text-gray-300;
    }
    .prose blockquote {
      @apply border-l-4 border-primary pl-6 py-2 my-8 text-xl italic text-gray-400 font-serif;
    }
    .prose ul, .prose ol { @apply mb-6 ml-6 space-y-2; }
    .prose li::marker { @apply text-muted; }
    .prose img { @apply max-w-full rounded-2xl border border-white/10 shadow-2xl; }
    .prose table { @apply w-full border-collapse my-8 text-left; }
    .prose th { @apply px-4 py-3 border-b border-white/10 text-white font-semibold; }
    .prose td { @apply px-4 py-3 border-b border-white/5 text-gray-400; }

    /* Feature card */
    .feature-card {
      @apply p-8 rounded-2xl glass hover:bg-white/10 transition-all duration-300;
    }
    .feature-card .feature-icon {
      @apply text-4xl mb-4 text-transparent bg-clip-text bg-gradient-to-br from-primary-light to-accent inline-block transition-transform duration-300 group-hover:scale-110;
    }
    .feature-card h3 { @apply text-xl font-bold text-white mb-3 font-display; }
    .feature-card p { @apply text-base text-gray-400 leading-relaxed; }

    /* Pricing card */
    .pricing-card {
      @apply p-8 rounded-2xl glass flex flex-col h-full hover:-translate-y-1 transition-transform duration-300;
    }
    .pricing-card.featured {
      @apply border-primary/50 relative overflow-hidden;
      box-shadow: 0 0 40px -10px rgba(139, 92, 246, 0.3);
    }
    .pricing-card.featured::before {
      content: '';
      @apply absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-primary-light to-transparent opacity-50;
    }
    .pricing-card h3 { @apply text-lg font-bold text-gray-400 mb-2 font-display uppercase tracking-wider text-sm; }
    .pricing-card .price { @apply text-5xl font-bold text-white my-4 font-display tracking-tight; }
    .pricing-card .price span { @apply text-lg font-normal text-gray-500 ml-1; }
    .pricing-card ul { @apply list-none p-0 m-0 space-y-3 text-sm text-gray-300 mb-8 flex-grow; }
    .pricing-card li { @apply flex items-start gap-3; }
    .pricing-card li::before {
      content: "✓";
      @apply text-accent font-bold mt-0.5;
    }

    /* CTA banner */
    .cta-banner {
      @apply py-16 px-8 text-center rounded-3xl my-16 relative overflow-hidden;
      background: linear-gradient(135deg, #4c1d95, #7c3aed);
    }
    .cta-banner::before {
      content: '';
      @apply absolute inset-0 opacity-30;
      background-image: radial-gradient(circle at top right, #38bdf8, transparent 40%),
                        radial-gradient(circle at bottom left, #ec4899, transparent 40%);
    }
    .cta-banner > * { @apply relative z-10; }
    .cta-banner h2 { @apply text-3xl md:text-4xl font-bold text-white mb-4 font-display; }
    .cta-banner p { @apply text-indigo-100 text-lg mb-8 max-w-2xl mx-auto; }

    /* Blog card */
    .blog-card {
      @apply block p-0 bg-surface-alt/30 rounded-2xl border border-white/5 overflow-hidden transition-all duration-300 hover:border-primary/30 hover:shadow-2xl hover:shadow-primary/10;
    }
    .blog-card-image {
      @apply h-48 bg-surface-alt w-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500;
    }
    .blog-card-content { @apply p-6; }
    .blog-card h2 { @apply text-xl font-bold text-white mb-2 group-hover:text-primary-light transition-colors font-display; }
    .blog-card p { @apply text-gray-400 text-sm line-clamp-3; }

    /* Pagination */
    nav.pagination { @apply my-12; }
    nav.pagination .pagination-list {
      @apply list-none p-0 m-0 flex gap-2 flex-wrap items-center justify-center;
    }
    nav.pagination a {
      @apply inline-flex items-center justify-center h-10 min-w-[2.5rem] px-3 rounded-lg border border-white/10 text-sm text-gray-400 hover:text-white hover:border-primary/50 hover:bg-white/5 transition-all;
    }
    .pagination-current span {
      @apply inline-flex items-center justify-center h-10 min-w-[2.5rem] px-3 rounded-lg bg-primary text-white text-sm font-medium shadow-lg shadow-primary/25;
    }
    .pagination-disabled span {
      @apply inline-flex items-center justify-center h-10 min-w-[2.5rem] px-3 rounded-lg border border-white/5 text-gray-600 opacity-50 text-sm;
    }
  </style>

  {{ highlight_css }}
  {{ auto_includes_css }}
</head>
<body class="font-sans text-gray-300 bg-surface min-h-screen flex flex-col">
  <header class="fixed top-0 inset-x-0 z-50 bg-surface/80 backdrop-blur-md border-b border-white/5 transition-all duration-300">
    <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
      <a href="{{ base_url }}/" class="text-2xl font-bold text-white no-underline font-display tracking-tight flex items-center gap-2">
        <span class="w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white text-lg">✦</span>
        FlowSync
      </a>
      <nav class="hidden md:flex items-center gap-8">
        <a href="{{ base_url }}/#features" class="text-gray-400 text-sm font-medium no-underline hover:text-white transition-colors">Features</a>
        <a href="{{ base_url }}/#pricing" class="text-gray-400 text-sm font-medium no-underline hover:text-white transition-colors">Pricing</a>
        <a href="{{ base_url }}/blog/" class="text-gray-400 text-sm font-medium no-underline hover:text-white transition-colors">Blog</a>
        <a href="#" class="inline-flex items-center px-6 py-2.5 bg-white text-surface rounded-full text-sm font-bold no-underline hover:bg-gray-100 transition-transform hover:scale-105 shadow-[0_0_20px_rgba(255,255,255,0.3)]">Get Started</a>
      </nav>
      <!-- Mobile menu button placeholder -->
      <button class="md:hidden text-white">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
      </button>
    </div>
  </header>
