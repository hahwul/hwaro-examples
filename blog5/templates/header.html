<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
  {% if page.description %}<meta name="description" content="{{ page.description }}">{% endif %}
  {{ og_all_tags }}

  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#6366f1', // Indigo-500
            'primary-light': '#818cf8', // Indigo-400
            surface: '#0f172a', // Slate-900
            'surface-alt': '#1e293b', // Slate-800
            border: '#334155', // Slate-700
            muted: '#94a3b8', // Slate-400
            accent: '#06b6d4', // Cyan-500
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
          animation: {
            'blob': 'blob 7s infinite',
          },
          keyframes: {
            blob: {
              '0%': { transform: 'translate(0px, 0px) scale(1)' },
              '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
              '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
              '100%': { transform: 'translate(0px, 0px) scale(1)' },
            }
          }
        },
      },
    }
  </script>

  <style type="text/tailwindcss">
    @layer utilities {
      .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent;
      }
    }

    /* Prose: markdown rendered content */
    .prose { @apply text-gray-300 max-w-none; }
    .prose h1, .prose h2, .prose h3 { @apply font-black leading-tight text-white; }
    .prose h1 { @apply text-4xl mt-0 mb-6 tracking-tighter; }
    .prose h2 { @apply text-2xl mt-10 mb-4 tracking-tight; }
    .prose h3 { @apply text-xl mt-8 mb-3 font-bold; }
    .prose p { @apply mb-6 leading-relaxed text-lg; }
    .prose a { @apply text-primary hover:text-accent transition-colors decoration-2 underline-offset-4; }
    .prose code {
      @apply text-[0.85em] bg-surface-alt text-primary-light px-1.5 py-0.5 rounded border border-white/5 font-mono;
    }
    .prose pre {
      @apply bg-surface-alt/50 backdrop-blur px-6 py-5 overflow-x-auto my-8 rounded-2xl border border-white/5 leading-relaxed shadow-lg;
    }
    .prose pre code { @apply bg-transparent p-0 border-none text-gray-300; }
    .prose blockquote {
      @apply border-l-4 border-primary pl-6 py-2 my-8 text-muted italic text-xl;
    }
    .prose ul, .prose ol { @apply mb-6 ml-6 space-y-2; }
    .prose li { @apply pl-2 marker:text-primary; }
    .prose img { @apply max-w-full rounded-2xl shadow-2xl border border-white/5 my-8 w-full object-cover; }
    .prose table { @apply w-full border-collapse my-8 text-left; }
    .prose th { @apply px-4 py-3 border-b border-border text-white font-bold bg-surface-alt/30; }
    .prose td { @apply px-4 py-3 border-b border-white/5 text-gray-400; }

    /* Gradient accent line */
    .gradient-glow {
      @apply relative overflow-hidden;
    }
    .gradient-glow::before {
      content: "";
      @apply absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20 opacity-0 transition-opacity duration-500;
    }
    .gradient-glow:hover::before {
      @apply opacity-100;
    }

    /* Card hover effect */
    .case-card {
      @apply block p-8 border border-white/10 rounded-3xl bg-surface-alt/30 backdrop-blur-md transition-all duration-300 relative group overflow-hidden;
    }
    .case-card:hover {
      @apply -translate-y-1 shadow-2xl shadow-primary/10 border-primary/30;
    }
    .case-card::after {
      content: "";
      @apply absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300;
    }

    /* Service grid */
    .service-grid {
      @apply grid grid-cols-1 md:grid-cols-3 gap-6 my-10;
    }
    .service-item {
      @apply p-6 bg-surface-alt/30 backdrop-blur rounded-2xl border border-white/5 hover:border-white/10 transition-colors;
    }
    .service-item h3 { @apply m-0 mb-2 text-lg font-bold text-white; }
    .service-item p { @apply m-0 text-muted; }

    /* Button */
    .btn-primary {
      @apply inline-block px-8 py-3 bg-gradient-to-r from-primary to-accent text-white rounded-full font-bold text-sm tracking-wide shadow-lg shadow-primary/25 hover:shadow-primary/40 hover:scale-105 transition-all duration-300 no-underline;
    }

    /* Pagination */
    nav.pagination { @apply my-10; }
    nav.pagination .pagination-list {
      @apply list-none p-0 m-0 flex gap-3 flex-wrap items-center justify-center;
    }
    nav.pagination a {
      @apply inline-block px-4 py-2 rounded-lg border border-white/10 text-sm no-underline text-muted hover:text-white hover:border-primary/50 hover:bg-white/5 transition-all;
    }
    .pagination-current span {
      @apply inline-block px-4 py-2 rounded-lg bg-primary text-white text-sm font-bold shadow-lg shadow-primary/20;
    }
    .pagination-disabled span {
      @apply inline-block px-4 py-2 rounded-lg border border-white/5 text-muted opacity-30 text-sm;
    }

    /* Section list */
    ul.section-list { @apply list-none p-0 my-8 space-y-3; }
    ul.section-list li {
      @apply p-4 bg-surface-alt/30 rounded-xl border border-white/5 hover:bg-surface-alt/50 transition-colors;
    }
    ul.section-list li a { @apply font-bold text-white hover:text-primary transition-colors; }

    /* Alert shortcode */
    .alert {
      @apply py-4 px-6 border border-l-4 border-primary bg-surface-alt/50 rounded-r-xl my-6 text-sm text-gray-300 backdrop-blur shadow-lg;
    }

    /* Testimonial shortcode */
    .testimonial {
      @apply p-8 bg-surface-alt/30 backdrop-blur rounded-3xl border border-white/5 my-10 relative overflow-hidden;
    }
    .testimonial::before {
      content: '"';
      @apply absolute top-0 left-4 text-8xl text-primary/10 font-serif leading-none;
    }
    .testimonial blockquote {
      @apply text-2xl font-medium text-gray-200 m-0 mb-4 border-none p-0 bg-transparent relative z-10 italic;
    }
    .testimonial .cite {
      @apply text-sm text-primary font-bold uppercase tracking-widest relative z-10;
    }
    .testimonial .cite strong {
      @apply text-white ml-1;
    }
  </style>

  {{ highlight_css }}
  {{ auto_includes_css }}
</head>
<body class="font-sans text-gray-100 bg-surface leading-relaxed min-h-screen selection:bg-primary selection:text-white">

  <!-- Background Glow Effects -->
  <div class="fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none">
    <div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/20 rounded-full blur-[120px] animate-blob"></div>
    <div class="absolute top-[20%] right-[-10%] w-[35%] h-[35%] bg-accent/10 rounded-full blur-[120px] animate-blob animation-delay-2000"></div>
    <div class="absolute bottom-[-10%] left-[20%] w-[45%] h-[45%] bg-primary/10 rounded-full blur-[120px] animate-blob animation-delay-4000"></div>
  </div>

  <header class="fixed top-6 left-1/2 -translate-x-1/2 w-[90%] max-w-5xl z-50 rounded-full border border-white/10 bg-surface/80 backdrop-blur-xl shadow-2xl transition-all duration-300">
    <div class="px-6 py-3 md:px-8 md:py-4 flex items-center justify-between">
      <a href="{{ base_url }}/" class="text-xl font-black text-white no-underline tracking-tighter hover:text-primary transition-colors flex items-center gap-2">
        <span class="w-2 h-2 rounded-full bg-primary shadow-[0_0_10px_rgba(99,102,241,0.8)]"></span>
        Studio
      </a>
      <nav class="flex gap-6 md:gap-8">
        <a href="{{ base_url }}/work/" class="text-gray-400 text-sm font-semibold no-underline hover:text-white transition-colors">Work</a>
        <a href="{{ base_url }}/about/" class="text-gray-400 text-sm font-semibold no-underline hover:text-white transition-colors">About</a>
      </nav>
    </div>
  </header>

  <!-- Spacer for fixed header -->
  <div class="h-32"></div>
